<!DOCTYPE html><html><head><script src="mraid.js"></script><script> (function(){ try{ // Block window.top - REQUIRED by Unity Ads (security requirement) Object.defineProperty(window,"top",{ get:function(){return window;}, set:function(){}, configurable:false, enumerable:true }); // Also block window.self.top if it exists if(window.self&&window.self.top){ Object.defineProperty(window.self,"top",{ get:function(){return window;}, set:function(){}, configurable:false, enumerable:true }); } console.log("*** Security: window.top blocked (Unity Ads requirement)"); }catch(e){ console.warn("*** Security: Failed to block window.top",e); } })(); </script><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0"/><meta charset="UTF-8"/><meta name="copyright" content="playsmart"/><meta name="projectId" content="jmfu0mqowl"/><meta name="template-version" content=""/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-title" content="libProject"/><title>Cat Hop - Piano Music Games</title><meta http-equiv="x-ua-compatible" content="ie=edge"/></head><body><script src="js/mw_config.js"></script><script src="../sdk/playable-sdk.js"></script><script id="pl-adapter-js">!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("pl-adapter",[],n):"object"==typeof exports?exports["pl-adapter"]=n():e["pl-adapter"]=n()}(window,(function(){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=10)}([,function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="mw-volume-wrap">\n <img src="'+(null==(__t=data.voice2)?" ":__t)+'"="" alt="volume">\n <img class="mw-mute-img" src="'+(null==(__t=data.voice1)?" ":__t)+'"="" alt="mute">\n</img></img></div>\n';return __p}},function(e,n){e.exports="data:image/png;base64,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"},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAAA9CAMAAADBPCTwAAABO1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACSkpL5+fkAAACPj48AAAAAAAD+/v6NjY0AAAAAAADx8fHu7u7T09M6Ojr5+fn09PTS0tLCwsL7+/vo6Ojd3d3Ozs7p6enf39+xsbGampqEhISZmZmSkpIsLCxOTk4cHBzm5ubo6Ojq6urx8fHj4+Pp6enj4+PHx8fOzs7IyMi2trbBwcG1tbWpqamnp6dsbGxPT0+EhISkpKQAAABaWlr8/Pz39/fX19ff39/c3NzLy8vV1dXKysrR0dGZmZnGxsbQ0NCjo6OSkpKpqalaWlpkZGQoKCiGhoZnZ2ePj48YGBgyMjI0NDQ6Ojr////W4YYKAAAAaHRSTlMAAwYJDw0tHBUpQzETNB8aJSJIQFg9OhhON4/4S5JbVPuUWU/o4sdp7+2+s/fa0svAu6iTjYhzXE5J5uTi4NvRxru1raimnJeIe3RwZ19a9eHLycaro6Cbm46HgH5zcWZmY2NdVlJPRrn8ptsAAAMqSURBVFjD7VbXVttAEI2k1RatuizJIsYmBldCDR0CJJQAgfTee/T/X5BZGU4gWflE4jHMy+weHV9PuTt3rl3ZlZU2RVFUMHDlIVRNRwjpGqCUhtDNmBASm7qmlA0CxTbDGDNCdVUpB2ESl4dL21uvsW1qSqk8qI0jfy8FW2GxrhbvB+Th8eBbOxX2lhOkFmunaAfkYRmHE2lmi5Znqv/aafFzTdeR6Xg4qo2kp7YYuaIgAlt0Glo9FAGZ1CG2iy1j/E56ZiOhSzX4qiPqOA5F+SACgRKPYW5FRq2zmf7GCJijiwQdjzHXc8xcEKgjpJCEhj/eqC9cT89jQHchQuIed7vvOSN5rVZU5LjW6s5Ua2N9fS09b6MGd4kDIfIxuC1ZzEGqIg+Detb9XiqxUT/BzGXYCufgdvOH5VF5ICoieHUslWLUwuTr7PMw8Kui208CTCAQaRhucjeV2o2qsQJuuzbe6Ig6vUugT1KMmAXdHIxx44Hwk5VK/RX4iSwQCYZOsD+WG4dxTxyOmvWTDfAfBXGVvzEQ4TUIVF6PIPD7cNisN+u74PsRo5oMw7aqeRh+GBrL4mOnUj8C1wqwI8FQh2CM+FESVAX3FyrNOrSmZ2CiF8QwEivyb8FpHqr6GChi8OIYFgeMQWea/QEGukQcTZhLXRFHiXrUJkU9IJepjCCOXr4vlU9AoqmQxVoJfoh3MA2pCLLtZWQvzNMDceg0KvVp8N+5bao576U3/L3sNhqVQ/BbIZRDlY+PZGfou52rwcNtweFLNkCKz4/j2ZcRjMmncH0WZYMsd461hs0xHr2A2+0wVzthnsYuD/b77XZ7ZmZNPk8FxE/u5Wp4po/YigLDrzZOZi7w9Gyuv3k0x7EXo1xtUISC2CJmYHZj/g990bKvnusRivK3gIHQ0lgIHQepPKdzYuRkGhbH1NThPFRvB4JLCbOMD70zjEjQMvsLMMlmJRf+bHVYnj7V7OSi7hdZYcLqZIZxwG2kllylWOLvC4zPQrJLrnSO2MdaD2exfUrtMvsUtaHRmNkUCHGZ/dS2HUGIS+7JYlEujZHxRdLO4jgAcGX/q/0CdD9QeiWxzjEAAAAASUVORK5CYII="},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="mw-content-rating-icon">\n <img src="'+(null==(__t=data.img)?" ":__t)+'"="" alt="content">\n</img></div>\n';return __p}},,function(e,n,t){var o=t(7),i=t(8);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};o(i,a);e.exports=i.locals||{}},function(e,n,t){"use strict";var o,i=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},a=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),r=[];function d(e){for(var n=-1,t=0;t<r.length;t++)if(r[t].identifier===e){n=t;break}return 0="==o.nonce){var" n}function="" c(e,n){for(var="" t="{},o=[],i=0;i<e.length;i++){var" a="e[i],c=n.base?a[0]+n.base:a[0],l=t[c]||0,u=&quot;&quot;.concat(c,&quot;" ").concat(l);t[c]="l+1;var" s="d(u),A={css:a[1],media:a[2],sourceMap:a[3]};-1!==s?(r[s].references++,r[s].updater(A)):r.push({identifier:u,updater:p(A,n),references:1}),o.push(u)}return" o}function="" l(e){var="" n="document.createElement(&quot;style&quot;),o=e.attributes||{};if(void" i="t.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(e){n.setAttribute(e,o[e])})),&quot;function&quot;==typeof" e.insert)e.insert(n);else{var="" r="a(e.insert||&quot;head&quot;);if(!r)throw" new="" Error("Couldn't="" find="" style="" target.="" This="" probably="" means="" that="" the="" value="" for="" 'insert'="" parameter="" is="" invalid.");r.appendChild(n)}return="" n}var="" u,s="(u=[],function(e,n){return" u[e]="n,u.filter(Boolean).join(&quot;\n&quot;)});function" A(e,n,t,o){var="" ".concat(o.media,"="" {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText="s(n,i);else{var" w(e,n,t){var="" o="t.css,i=t.media,a=t.sourceMap;if(i?e.setAttribute(&quot;media&quot;,i):e.removeAttribute(&quot;media&quot;),a&&&quot;undefined&quot;!=typeof" btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64," .concat(btoa(unescape(encodeURIComponent(JSON.stringify(a)))),"="" *="" ")),e.styleSheet)e.styleSheet.cssText="o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var" m="null,f=0;function" p(e,n){var="" t,o,i;if(n.singleton){var="" o(e),function(n){if(n){if(n.css="==e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;o(e=n)}else" i()}}e.exports="function(e,n){(n=n||{}).singleton||&quot;boolean&quot;==typeof" n.singleton||(n.singleton="i());var" function(e){if(e="e||[],&quot;[object" Array]"="==Object.prototype.toString.call(e)){for(var" u="d(t[l]);0===r[u].references&&(r[u].updater(),r.splice(u,1))}t=a}}}},function(e,n,t){(n=t(9)(!1)).push([e.i,&quot;.mw-volume-wrap{width:24px;height:24px;position:fixed;left:5px;top:5px;z-index:1000}.mw-volume-wrap" img{width:24px;height:24px}.mw-volume-wrap="" img.mw-mute-img{display:none}.mute-status="" img{display:none}.mute-status="" img.mw-mute-img{display:block}#mw-content-rating{position:fixed;left:10px;bottom:10px;z-index:1000;width:10%;height:auto}#mw-content-rating="" img{width:100%;height:auto}#mw-content-rating.hide{display:none}@-webkit-keyframes="" fadeOut{0%{opacity:1}to{opacity:0}}@keyframes="" fadeOut{0%{opacity:1}to{opacity:0}}.animate__fadeOut{-webkit-animation-name:fadeOut;animation-name:fadeOut;-webkit-animation-duration:1s;animation-duration:1s}\n",""]),e.exports="n},function(e,n,t){&quot;use" strict";e.exports="function(e){var" n.toString="function(){return" this.map((function(n){var="" t;if(n&&"function"="=typeof" btoa){var="" ".concat(t,"="" ")}(o),a="o.sources.map((function(e){return&quot;/*#" sourceURL=".concat(o.sourceRoot||" ").concat(e,"="" ")}));return[t].concat(a).concat([i]).join("\n")}return[t].join("\n")}(n,e);return="" n[2]?"@media="" ".concat(n[2],"="" {").concat(t,"}"):t})).join("")},n.i="function(e,t,o){&quot;string&quot;==typeof" e&&(e="[[null,e,&quot;&quot;]]);var" d="0;d<e.length;d++){var" c="[].concat(e[d]);o&&i[c[0]]||(t&&(c[2]?c[2]=&quot;&quot;.concat(t,&quot;" and="" ").concat(c[2]):c[2]="t),n.push(c))}},n}},function(e,n,t){&quot;use" strict";function="" o(e,n){var="" CustomEvent(e,{detail:n});document.dispatchEvent(t)}var="" i,a;function="" r(){return"true"="==(e=new" RegExp("(^|&)"+"preview"+"="([^&]*)(&|$)&quot;,&quot;i&quot;),null!=(n=window.location.search.substr(1).match(e))?decodeURIComponent(n[2]):null);var" e,n}function="" d(e,n){return="" e.classList?e.classList.contains(n):!!e.className.match(new="" RegExp("(\\s|^)"+n+"(\\s|$)"))}function="" c(e,n){var="" ");e.classList?e.classList.add(t[0]):d(e,t[0])||(e.className+=" " +t[0]),t.length="">1&&c(e,t.slice(1).join(" "))}function l(e,n){var t=n.split(" ");if(e.classList)e.classList.remove(t[0]);else if(d(e,t[0])){var o=new RegExp("(\\s|^)"+t[0]+"(\\s|$)");e.className=e.className.replace(o," ")}t.length>1&&l(e,t.slice(1).join(" "))}function u(e,n){var t=document.createElement(n||"div");return 0===e.indexOf("#")?t.id=e.replace("#",""):t.className=e.replace(".",""),t}function s(e,n){return(n||document.body).appendChild(e),e}t.r(n),function(e){e.DOM_COMPLETE="PLAYABLE:domComplete",e.GAME_READY="PLAYABLE:gameReady",e.GAME_RETRY="PLAYABLE:gameRetry",e.WIN_LOAD="PLAYABLE:windowOnload",e.GAME_START="PLAYABLE:gameStart",e.INSTALL="PLAYABLE:install",e.GAME_END="PLAYABLE:ending",e.RENDER_FAIL="PLAYABLE:renderFail",e.GAME_CLOSE="PLAYABLE:gameClose"}(i||(i={})),function(e){e.FETCHED="MOREOFFER:fetched",e.LOADFAIL="MOREOFFER:loadFail",e.SHOW="MOREOFFER:show",e.INSTALL="MOREOFFER:install",e.RENDERTIMEOUT="MOREOFFER:render-timeout",e.SCROLL="MOREOFFER:scroll"}(a||(a={}));t(6);function A(){var e=window.navigator.userAgent;return{isAndroid:e.indexOf("Android")>-1||e.indexOf("Adr")>-1,isiOS:!!e.match(/.+Mac OS X/)}}function w(e){var n={width:0,height:0},t=A();if(e&&t.isiOS&&document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)n.width=document.documentElement.clientWidth,n.height=document.documentElement.clientHeight;else if(e&&t.isAndroid&&window.screen.width&&window.screen.height)n.width=window.screen.width,n.height=window.screen.height;else if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)n.width=document.documentElement.clientWidth,n.height=document.documentElement.clientHeight;else{var o=document.createElement("div");o.setAttribute("style","position: fixed; top: 0px; left: 0px; right: 0px; bottom: 0px; z-index: -1;"),document.body.appendChild(o),n.width=o.offsetWidth,n.height=o.offsetHeight,o.remove()}return n}var m=window.location;function f(e){var n=A(),t=e.config.store_url||{},o=1;function a(){console.log("muteAudio function called"),!1===e.status.gameStart?(console.log("gameStart is false, add event listener"),document.addEventListener(i.GAME_START,(function(){console.log("gameStart event listener called muteAudio"),"function"==typeof window.forceMuted&&(window.forceMuted(!1),window.forceMuted(!0))}))):(console.log("gameStart is true, call forceMuted"),"function"==typeof window.forceMuted&&(window.forceMuted(!1),window.forceMuted(!0)))}if(void 0===window.mraid)return console.log("当前环境没有mraid环境，直接监听 window.onload 去渲染游戏"),void(r()||(e.callback&&e.callback(),document.addEventListener(i.INSTALL,(function(){n.isiOS?m.href=t.ios:m.href=t.android}),!1)));function d(){var n=function(){window.mraid.getAudioVolume&&"function"==typeof window.mraid.getAudioVolume&&(console.log("mraid.getAudioVolume current volume is",window.mraid.getAudioVolume()),o=Number(window.mraid.getAudioVolume())),e.callback&&e.callback(),window.mraid.getAudioVolume&&"function"==typeof window.mraid.getAudioVolume&&0===Number(window.mraid.getAudioVolume())&&(console.log("current volume is",o,"mute it"),a())},t=function(){return"true"===window.mraid.isViewable()||!0===window.mraid.isViewable()};window.mraid.addEventListener("viewableChange",(function(e){(e||t())&&n()})),t()&&n()}window.mraid.addEventListener("audioVolumeChange",(function(e){console.log("Audio volume changed. Current volume: ",e),(o=Number(e))&&Number(o)>0?(console.log("current volume is",o,"unmute it"),console.log("unmuteAudio function called"),"function"==typeof window.forceMuted&&window.forceMuted(!1)):(console.log("current volume is",o,"mute it"),a())})),document.addEventListener("readystatechange",(function(){"complete"===document.readyState&&("loading"===window.mraid.getState()?window.mraid.addEventListener("ready",d):d())})),n.isiOS&&window.mraid.preloadStore&&window.mraid.preloadStore(t.ios),document.addEventListener(i.INSTALL,(function(){n.isiOS?(window.mraid.openStore&&window.mraid.openStore(t.ios),window.mraid.open?window.mraid.open(t.ios):m.href=t.ios):window.mraid.open?window.mraid.open(t.android):m.href=t.android}),!1)}var p=t(1),g=t.n(p),v=t(2),E=t.n(v),L=t(3),h=t.n(L);function b(){var e=window;document.addEventListener(i.INSTALL,(function(){e.openAppStore&&e.openAppStore()}),!1)}function y(){try{FbPlayableAd.onCTAClick()}catch(e){console.log(e)}}function _(){document.addEventListener(i.INSTALL,(function(){parent.postMessage("download","*")}),!1),document.addEventListener(i.GAME_END,(function(){setTimeout((function(){parent.postMessage("complete","*")}),1e3)}),!1)}var S=t(4),T=t.n(S);function M(e){window.playableSDK?(document.addEventListener(i.GAME_READY,(function(){window.playableSDK.sendEvent("loadMainScene")}),!1),document.addEventListener(i.GAME_START,(function(){e.config&&e.config.channel_setting&&e.config.channel_setting.content_rating_icon&&function(e){var n=u("#mw-content-rating");n.innerHTML=T()({data:{img:e}});var t=s(n),o=w();!function(){var e=w();return"portrait"===(e.width>e.height?"landscape":"portrait")}()?t.style.width=.1*o.height+"px":t.style.width=.1*o.width+"px";setTimeout((function(){c(t,"animate__fadeOut"),setTimeout((function(){c(t,"hide")}),1e3)}),3e3)}(e.config.channel_setting.content_rating_icon),window.playableSDK.sendEvent("startPlayPlayable")}),!1),document.addEventListener(i.GAME_END,(function(){window.playableSDK.sendEvent("finishPlayPlayable")}),!1),document.addEventListener(i.INSTALL,(function(){window.playableSDK.openAppStore&&window.playableSDK.openAppStore()}),!1),window.playableSDK.isViewable&&window.playableSDK.isViewable().then((function(n){n&&e.callback&&e.callback()})),window.playableSDK.addEventListener("visibilityChange",(function(n){n.viewable&&e.callback&&e.callback()}))):console.error("缺乏巨量引擎 playableSDK 环境")}var C={init:function(e){var n="globalClick"===e.type,t="autoClick"===e.type,o="youdaoClick"===e.type;if((n||t||o)&&window.MW_CONFIG.install_return_action){var i,a={},r=window.MW_CONFIG.install_return_action.split(",");switch(e.position&&Number(e.position)>=1?i=parseInt(e.position,10)-1:(console.error(e.position,"异常安装位置值，请联系开发确认"),i=0),r.forEach((function(e,n){a[n]=e})),document.body.getAttribute("data-return-config")&&this.resetGlobalSetting(document.body.getAttribute("data-return-config")),a[i]&&document.body.setAttribute("data-return-config",a[i]),!0){case"return-releaseup"===a[i]:this.initGlobalReleaseUp();break;case"return-touchdown"===a[i]:this.initGlobalTouchDown();break;case"return-end-1"===a[i]:this.initReturnEnd(!0);break;case"return-end-2"===a[i]:this.initReturnEnd(!1)}}},install:function(){var e,n;n=100,(e=function(){window.install&&window.install()}).tId&&clearTimeout(e.tId),e.tId=setTimeout((function(){e.call(n)}),300)},initGlobalReleaseUp:function(){window.MW_CONFIG.disable_global_click||(window.addEventListener("touchend",this.install),window.addEventListener("mouseup",this.install))},initGlobalTouchDown:function(){window.MW_CONFIG.disable_global_click||(window.addEventListener("touchstart",this.install),window.addEventListener("mousedown",this.install))},resetGlobalSetting:function(e){switch(!0){case"return-releaseup"===e:window.removeEventListener("touchend",this.install),window.removeEventListener("mouseup",this.install);break;case"return-touchdown"===e:window.removeEventListener("touchstart",this.install),window.removeEventListener("mousedown",this.install)}},initReturnEnd:function(e){!function(e,n){var t=new CustomEvent(e,{detail:n});document.dispatchEvent(t)}("PLAYABLE:redirect",{type:"ending",params:[e]})}};function R(e){e&&e.length&&e.forEach((function(e){(new Image).src=e}))}var O=window.location;function G(e){var n=A(),t=e.config.store_url||{};R(e.macroEventTag.Ad_Load_Start),document.addEventListener(i.GAME_START,(function(){var n,t,o,i,a;R(e.macroEventTag.Ad_Viewable),n=!1,t=function(){n||(n=!0,R(e.macroEventTag.First_Engagement),o())},o=function(){document.removeEventListener("click",t),document.removeEventListener("touchstart",t),document.removeEventListener("touchmove",t)},document.addEventListener("click",t),document.addEventListener("touchstart",t),document.addEventListener("touchmove",t),i=[5,10,15,20,25,30],a={5:e.macroEventTag.Spent_5_Seconds,10:e.macroEventTag.Spent_10_Seconds,15:e.macroEventTag.Spent_15_Seconds,20:e.macroEventTag.Spent_20_Seconds,25:e.macroEventTag.Spent_25_Seconds,30:e.macroEventTag.Spent_30_Seconds},i.forEach((function(e){a[e]&&setTimeout((function(){R(a[e])}),1e3*e)}))}),!1),document.addEventListener(i.GAME_END,(function(){R(e.macroEventTag.Gameplay_Complete)}),!1),document.addEventListener(i.INSTALL,(function(){R(e.macroEventTag.DSP_Click);var o="";o=e.macroEventTag.LandingPage_URL&&e.macroEventTag.LandingPage_URL[0]?e.macroEventTag.LandingPage_URL[0]:n.isiOS?t.ios:t.android,O.href=o}),!1)}function k(){return((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,n)=>e+=(n&=63)<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n>62?"-":"_",""))()}function N(e,n){if(window.ReportLog){var t=n||{};window.HttpAPI&&window.HttpAPI.sendPoint&&window.HttpAPI.sendPoint(e,t)}}var I=function(){try{var e=document.createElement("canvas"),n=e.getContext("webgl")||e.getContext("experimental-webgl");return n&&n instanceof WebGLRenderingContext}catch(e){return!1}}(),D=[],x=!1,P=!1,j=!1;function F(){if(P)return j;console.log("判断是否是ios15"),P=!0;try{var e=navigator.userAgent.toLowerCase();if(!/\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(e)&&!/macintosh;/i.test(e)&&!/iPad/i.test(e))return!1;var n=e.match(/cpu iphone os (.*?) like mac os/);if(n||(n=e.match(/version\/([\d.]+)/)),n||(n=e.match(/cpu\sos\s([\d.]+)/)),n||(n=e.match(/os\sx\s10\w([\d.]+)/)),null==n||null==n[1])return!1;var t=Number(-1!==n[1].indexOf("_")?n[1].split("_")[0]:n[1])>=15,o=window.MW_CONFIG.MTGMaterialVersion&&window.MW_CONFIG.MTGMaterialVersion>2;return j=t&&!o}catch(e){return!1}}var U=function(e){var n={domComplete:!1,winOnload:!1,renderFail:!1,gameReady:!1,gameRetry:!1,gameStart:!1,gameEnd:!1,install:!1,gameClose:!1,muteStatus:!1},t=!0,a=null;function d(){n.gameStart||(N("ws"),n.winOnload&&n.gameReady?(n.gameStart=!0,window.gameStart&&window.gameStart(t),o(i.GAME_START)):(n.winOnload||document.addEventListener(i.WIN_LOAD,(function(){d()}),!1),n.gameReady||document.addEventListener(i.GAME_READY,(function(){d()}),!1)))}function m(){var e=document.createElement("style");e.innerText=".mtg-package-loading-wrap .mw-loading-pic{display:none;}",document.head.appendChild(e)}return function(){var p,v,L,S,T,R,O,P,j;if(e&&e.channel?(p=n,v={gameEnd:window.gameEnd,install:window.install,gameReady:window.gameReady,renderFail:window.renderFail,gameClose:window.gameClose,gameRetry:window.gameRetry},document.addEventListener("readystatechange",(function(){"complete"===document.readyState&&(p&&(p.domComplete=!0),o(i.DOM_COMPLETE,Array.prototype.slice.apply(arguments)))})),window.addEventListener("load",(function(){p&&(p.winOnload=!0),o(i.WIN_LOAD,Array.prototype.slice.apply(arguments))})),window.renderFail=function(){p&&(p.renderFail=!0),v.renderFail&&v.renderFail.call(window,arguments),o(i.RENDER_FAIL,Array.prototype.slice.apply(arguments))},window.gameReady=function(){p&&(p.gameReady=!0),v.gameReady&&v.gameReady.call(window,arguments),o(i.GAME_READY,Array.prototype.slice.apply(arguments))},window.gameRetry=function(){p&&(p.gameRetry=!0),v.gameRetry&&v.gameRetry.call(window,arguments),N("pl_retry"),o(i.GAME_RETRY,Array.prototype.slice.apply(arguments))},window.gameEnd=function(){p&&(p.gameEnd=!0),v.gameEnd&&v.gameEnd.call(window,arguments),o(i.GAME_END,Array.prototype.slice.apply(arguments))},window.install=function(e){if(p&&(p.install=!0),e&&e.type&&C.init(e),e&&e.type){var n=e.type;if("globalClick"===n&&window.MW_CONFIG.disable_global_click)return;if("youdaoClick"===n&&window.MW_CONFIG.disable_yd_click)return;if("autoClick"===n&&window.MW_CONFIG.disable_auto_click)return}v.install&&v.install.call(window,arguments),console.log("PLAYABLE:install"),a&&a(),o(i.INSTALL,Array.prototype.slice.apply(arguments))},window.gameClose=function(){p&&(p.gameClose=!0),v.gameClose&&v.gameClose.call(window,arguments),o(i.GAME_CLOSE,Array.prototype.slice.apply(arguments))},function(o){switch(function(e){if(window.ReportLog){var n=w();window.HttpAPI=new window.ReportLog(e.channel,{mid:e.MTGMaterialUUID,pf:A().isAndroid?"android":"ios",rid:k(),sz:n.width+"x"+n.height,mats:2}),document.addEventListener(i.DOM_COMPLETE,(function(){N("ld")})),document.addEventListener(i.WIN_LOAD,(function(){N("wo")})),document.addEventListener(i.GAME_READY,(function(){N("ir")})),document.addEventListener(i.GAME_START,(function(){N("gst")})),document.addEventListener(i.INSTALL,(function(){N("is")})),document.addEventListener(i.GAME_END,(function(){N("ge",{ge_type:"game"})}))}}(e),o.toLocaleUpperCase()){case"ADCOLONY":!function(e){var n=u("#mwVolume");n.innerHTML=g()({data:{voice1:E.a,voice2:h.a}});var t=s(n);t.addEventListener("click",(function(){e.muteStatus?(e.muteStatus=!1,l(t,"mute-status")):(e.muteStatus=!0,c(t,"mute-status")),window.forceMuted&&window.forceMuted(e.muteStatus)}))}(n),f({callback:d,config:e,status:n});break;case"TAPJOY":d(),void 0!==window.TJ_API?(document.addEventListener(i.GAME_END,(function(){window.TJ_API&&window.TJ_API.gameplayFinished()}),!1),document.addEventListener(i.INSTALL,(function(){window.TJ_API&&window.TJ_API.click()}),!1)):!r()&&console.error("当前tapjoy环境没有TJ_API全局变量，无法适配");break;case"CHARTBOOST":try{window.mraid=window.mraid||window.parent.mraid}catch(e){console.log(e)}document.addEventListener(i.GAME_START,(function(){window.mraid&&"function"==typeof window.mraid.getState&&window.mraid.getState()})),f({callback:d,config:e,status:n});break;case"GDT":d(),function(){if(void 0!==window.GDTUnSdk){var e=window.GDTUnSdk&&new window.GDTUnSdk({type:"playable",onSuccess:function(e){console.log(e)},onError:function(e){console.log(e)}});document.addEventListener(i.INSTALL,(function(){e.playAble.onClick()}),!1)}else!r()&&console.error("当前广点通环境没有GDTUnSdk全局变量，无法适配")}();break;case"PANGLE":case"TIKTOK":d(),b();break;case"KS":m(),d(),p=n,v=window.playableSDK,L=v.openAppStore,S=v.ConvertType,T=v.sendEvent,C=v.EventType,T(C.AD_LANDING_PAGE_IMPRESSION),T(C.AD_LANDING_PAGE_ENTERED),document.addEventListener(i.INSTALL,(function(){L(p.gameEnd?S.AD_ITEM_CLICK_2:S.AD_ITEM_CLICK_1)}),!1),document.addEventListener(i.WIN_LOAD,(function(){T(C.AD_LANDING_PAGE_LOADED)})),document.addEventListener(i.GAME_START,(function(){T(C.AD_TRY_PLAY_GAME_START)})),document.addEventListener(i.GAME_END,(function(){T(C.AD_TRY_PLAY_GAME_END)}));break;case"FB":d(),a=y;break;case"GOOGLE":t=!1,d(),document.addEventListener(i.INSTALL,(function(){window.ExitApi&&window.ExitApi.exit()}),!1);break;case"UNITY":f({callback:d,config:e,status:n});break;case"VUNGLE":d(),_();break;case"APPLOVIN":t=!1,f({callback:d,config:e,status:n});break;case"OCEANENGINE":case"TOUTIAO":M({callback:d,config:e,status:n});break;case"IRONSOURCE":f({callback:d,config:e,status:n}),window.MW_CONFIG.channel="IRONSOURCE";break;case"MYTARGET":d(),document.addEventListener(i.INSTALL,(function(){var e=window.FbPlayableAd;window.MTRG&&"function"==typeof window.MTRG.onCTAClick?window.MTRG.onCTAClick():e&&"function"==typeof e.onCTAClick&&e.onCTAClick()}),!1);break;case"LIFTOFF":d(),_();break;case"KWAI":m(),d(),function(){var e=!1;try{window.ks_playable_exposurePage&&window.ks_playable_exposurePage()}catch(e){console.error(e)}document.addEventListener(i.GAME_START,(function(){try{var n=function(){e||(e=!0,window.ks_playable_startPlay&&window.ks_playable_startPlay(),document.removeEventListener("touchstart",n,!0),window.removeEventListener("click",n,!0))};document.addEventListener("touchstart",n,!0),window.addEventListener("click",n,!0)}catch(e){console.error(e)}}),!1),document.addEventListener(i.INSTALL,(function(){try{window.ks_playable_openAppStore&&window.ks_playable_openAppStore()}catch(e){console.error(e)}}),!1)}();break;case"IMOBILE":!function(e){if(window.Maio){var n=A(),t=e.config.store_url||{};window.Maio.onReady((function(){e.callback&&e.callback()})),document.addEventListener(i.INSTALL,(function(){n.isiOS?window.Maio.openClickUrl(t.ios):window.Maio.openClickUrl(t.android)}),!1)}else console.error("缺少 Maio 环境")}({callback:d,config:e});break;case"SNAPCHAT":f({callback:d,config:e,status:n});break;case"MOLOCO":d(),a=y;break;case"BIGO":d(),document.addEventListener(i.GAME_END,(function(){window.BGY_MRAID&&window.BGY_MRAID.gameEnd()}),!1),document.addEventListener(i.GAME_READY,(function(){window.BGY_MRAID&&window.BGY_MRAID.gameReady()}),!1),document.addEventListener(i.INSTALL,(function(){window.BGY_MRAID&&window.BGY_MRAID.open()}),!1);break;case"SMADEX":d(),document.addEventListener(i.INSTALL,(function(){window.smxTracking&&window.smxTracking.redirect()}),!1);break;case"INMOBI":d(),G({config:e,macroEventTag:window.SPEC_MACRO_EVENT_TAG});break;case"SIGMOB":d(),document.addEventListener(i.INSTALL,(function(e){window.sigmobSdk&&window.sigmobSdk.open(e)}),!1);break;default:d()}var p,v,L,S,T,C;r()&&(d(),document.addEventListener(i.INSTALL,(function(){!function(e){if(!document.querySelector(".layerTip")){var n=document.createElement("div");n.className="layerTip",n.innerText=e||"默认信息",n.setAttribute("style","position: fixed; top: 50%; left: 50%; z-index: 10000; background-color: rgba(0, 0, 0, 0.5); color: #fff; font-size: 12px; padding: 5px 10px; transform: translate(-50%, -50%);"),document.body.appendChild(n),setTimeout((function(){n.remove()}),5e3)}}("Successfully redirect.")}),!1))}(e.channel)):console.error("缺少MW_CONFIG参数，无法做适配"),L=HTMLCanvasElement.prototype.getContext,HTMLCanvasElement.prototype.getContext=function(){var e=[].slice.call(arguments);if(I||(D.push(e[0]),"webgl"!==e[0]&&"experimental-webgl"!==e[0]||x||(x=!0,setTimeout((function(){!I&&(D.indexOf("2d")<0||3===Number(window.MW_CONFIG.material_type))&&N("rdf")}),1e3))),F()){if(console.log("兼容ios15"),"webgl2"==e[0])return null;e[1]&&e[1].antialias&&(e[1].antialias="!1)}var" n="L.apply(this,e);return" n},O="window.self!==window.top,P=document.referrer,j=[&quot;www.insightrackr.com&quot;,&quot;www.adinsights.cn&quot;,&quot;sensortower.com&quot;,&quot;sensortower-china.com&quot;,&quot;appannie.com&quot;,&quot;data.ai&quot;,&quot;bigbigads.io&quot;,&quot;www.dataeye.com&quot;,&quot;www.guangdada.net&quot;,&quot;socialpeta.com&quot;,&quot;appgrowing.cn&quot;,&quot;www.adbug.cn&quot;].some((function(e){return" P.indexOf(e)="">-1})),O&&j){S="https://mmp-cdn.rayjump.com/pt-scripts/pt-loading.js ",T=function(){window.PtLoading&&(window.PtLoadingObject=new window.PtLoading)},(R=document.createElement("script")).src=S,R.addEventListener("load",T),document.head.appendChild(R)}}(),n}(window.MW_CONFIG);n.default=U}]).default}));</0||3===Number(window.MW_CONFIG.material_type))&&N("rdf")}),1e3))),F()){if(console.log("兼容ios15"),"webgl2"==e[0])return></36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n></r.length;t++)if(r[t].identifier===e){n=t;break}return></script><script src="Assets/meta/globalUrlMap.js"></script><script src="lib/phaser.min.js"></script><script src="lib/webfontloader.js"></script><script src="lib/qc-core-min.js"></script><script src="lib/qc-webgl.js"></script><script src="lib/PlaySmartEditorData.js"></script><script src="picDesc.js"></script><script src="data.js"></script><script src="Assets/meta/assetCountMap.js"></script><script src="js/game-scripts.min.js"></script><style> html, body {padding: 0;margin: 0;width: 100%;height: 100%;} </style><div style="overflow:hidden;padding:0;margin:0;width:100%;height:100%;"><div id="gameDiv" style="position:relative;"/></div><script src="lib/qc-loading-debug.js"></script><script> // 跳转场景逻辑 document.addEventListener('PLAYABLE:switchScene', function (customEvent) { // 需要跳转的场景 const scene = String(customEvent.detail.scene) // 素材跳转逻辑， 因为涉及到玩法场景和全局场景，需要通过 ps.GameState.SCENECHANGE 来切换场景 ps.mainState.dispatch(ps.GameState.SCENECHANGE, scene); }) </script><script>qici.config.useLanguages = true;</script><script src="libs/expand/languagesMgr/languagesMgr.js"></script><script> (function(){ var UnityPlayable=window.UnityPlayable||{}; var gameFinished=!1; var mraidReady=!1; var storeLink="https://play.google.com/store/apps/details?id=com.rc13.craft.world.block.build.simulator"; function initMRAID(){ if(typeof mraid==="undefined"){ console.warn("*** MRAID not available - falling back to browser mode"); window.addEventListener("load",function(){ if(UnityPlayable.initGame)UnityPlayable.initGame(); else console.log("*** Fallback: Game initialized in browser mode"); }); return; } console.log("*** MRAID version: "+mraid.getVersion()); function onMRAIDReady(){ if(mraidReady)return; mraidReady=!0; console.log("*** MRAID ready - initializing Unity playable"); if(mraid.getState()==="default"){ if(UnityPlayable.initGame)UnityPlayable.initGame(); else console.log("*** Game initialized"); mraid.signal("start"); } mraid.addEventListener("viewableChange",function(isViewable){ console.log("*** Viewable changed: "+isViewable); if(isViewable){ if(UnityPlayable.resumeGame)UnityPlayable.resumeGame(); else console.log("*** Game resumed"); }else{ if(UnityPlayable.pauseGame)UnityPlayable.pauseGame(); else console.log("*** Game paused"); } }); mraid.addEventListener("sizeChange",function(width,height){ console.log("*** Size changed: "+width+"x"+height); if(UnityPlayable.resizeGame)UnityPlayable.resizeGame(width,height); else{ document.body.style.width=width+"px"; document.body.style.height=height+"px"; console.log("*** Default resize to "+width+"x"+height); } }); mraid.addEventListener("orientationChange",function(orientation){ console.log("*** Orientation changed: "+orientation); var screenSize=mraid.getScreenSize(); if(UnityPlayable.resizeGame)UnityPlayable.resizeGame(screenSize.width,screenSize.height); else{ document.body.style.width=screenSize.width+"px"; document.body.style.height=screenSize.height+"px"; console.log("*** Default resize on orientation to "+screenSize.width+"x"+screenSize.height); } }); mraid.addEventListener("stateChange",function(state){ console.log("*** State changed: "+state); if(state==="expanded"){ console.log("Ad expanded"); }else if(state==="hidden"){ if(UnityPlayable.pauseGame)UnityPlayable.pauseGame(); else console.log("Game paused"); }else if(state==="default"){ if(UnityPlayable.resumeGame)UnityPlayable.resumeGame(); else console.log("Game resumed"); } }); mraid.addEventListener("volumeChange",function(volume){ console.log("*** Volume changed: "+volume); if(UnityPlayable.setVolume)UnityPlayable.setVolume(volume); else console.log("*** Default setVolume to "+volume); }); if(mraid.isViewable()){ console.log("*** Ad is viewable on init"); } } mraid.addEventListener("ready",onMRAIDReady); } UnityPlayable.initGame=UnityPlayable.initGame||function(){console.log("*** Default initGame");}; UnityPlayable.pauseGame=UnityPlayable.pauseGame||function(){console.log("*** Default pauseGame");}; UnityPlayable.resumeGame=UnityPlayable.resumeGame||function(){console.log("*** Default resumeGame");}; UnityPlayable.resizeGame=UnityPlayable.resizeGame||function(width,height){ document.body.style.width=width+"px"; document.body.style.height=height+"px"; console.log("*** Default resizeGame to "+width+"x"+height); }; UnityPlayable.setVolume=UnityPlayable.setVolume||function(volume){console.log("*** Default setVolume to "+volume);}; UnityPlayable.finish=UnityPlayable.finish||function(){ console.log("*** Game finished - closing ad"); gameFinished=!0; if(typeof mraid!=="undefined")mraid.close(); }; document.addEventListener("click",function(e){ console.log("*** Clicked"); e.preventDefault(); if(gameFinished){ console.log("*** Click after game finished - triggering CTA"); var finalStoreLink=storeLink; if(typeof getStoreLink==="function"){ finalStoreLink=getStoreLink(); console.log("*** Platform detected - using: "+finalStoreLink); } if(typeof mraid!=="undefined"){ mraid.open(finalStoreLink); console.log("*** CTA triggered - mraid.open("+finalStoreLink+")"); }else{ window.open(finalStoreLink,"_blank"); console.log("*** CTA triggered - window.open("+finalStoreLink+")"); } }else{ console.log("*** Click ignored - game not finished"); } },{once:!1}); if(document.readyState==="loading"){ document.addEventListener("DOMContentLoaded",initMRAID); }else{ initMRAID(); } window.UnityPlayable=UnityPlayable; })(); </script></body></html>